# =============================================================================
# Lexia API - Environment Variables
# =============================================================================
# Copy this file to .env and configure for your environment
# =============================================================================

# -----------------------------------------------------------------------------
# General Settings
# -----------------------------------------------------------------------------
TAG=latest
APP_ENV=production

# -----------------------------------------------------------------------------
# API Configuration
# -----------------------------------------------------------------------------
API_PORT=8000
API_WORKERS=4
API_SECRET_KEY=your-super-secret-key-change-in-production
API_KEY_SALT=your-api-key-salt-change-in-production

# -----------------------------------------------------------------------------
# Database (PostgreSQL)
# -----------------------------------------------------------------------------
POSTGRES_USER=lexia
POSTGRES_PASSWORD=your-secure-password-here
POSTGRES_DB=lexia
POSTGRES_PORT=5432

# -----------------------------------------------------------------------------
# Redis
# -----------------------------------------------------------------------------
REDIS_PORT=6379

# -----------------------------------------------------------------------------
# LLM Service (vLLM)
# -----------------------------------------------------------------------------
LLM_PORT=8001
LLM_MODEL=Marsouuu/general7Bv2-ECE-PRYMMAL-Martial
LLM_DTYPE=auto
LLM_MAX_LEN=4096
GPU_MEMORY_UTIL=0.9
TENSOR_PARALLEL=1
LLM_GPU_COUNT=1

# -----------------------------------------------------------------------------
# STT Service (Whisper + Pyannote)
# -----------------------------------------------------------------------------
STT_PORT=8002
WHISPER_MODEL=Gilbert-AI/gilbert-fr-source
DIARIZATION_MODEL=MEscriva/gilbert-pyannote-diarization
STT_GPU_COUNT=1

# -----------------------------------------------------------------------------
# Hugging Face
# -----------------------------------------------------------------------------
# Required for private models and pyannote
HF_TOKEN=your-huggingface-token-here

# -----------------------------------------------------------------------------
# Storage (S3/MinIO)
# -----------------------------------------------------------------------------
STORAGE_BACKEND=s3

# For AWS S3
S3_ENDPOINT_URL=
S3_ACCESS_KEY=your-aws-access-key
S3_SECRET_KEY=your-aws-secret-key
S3_BUCKET_NAME=lexia-audio
S3_REGION=eu-west-1

# For MinIO (self-hosted)
# S3_ENDPOINT_URL=http://minio:9000
# S3_ACCESS_KEY=minioadmin
# S3_SECRET_KEY=minioadmin

# -----------------------------------------------------------------------------
# MinIO (if using self-hosted storage)
# -----------------------------------------------------------------------------
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=minioadmin
MINIO_API_PORT=9000
MINIO_CONSOLE_PORT=9001

# -----------------------------------------------------------------------------
# Celery Workers
# -----------------------------------------------------------------------------
WORKER_CONCURRENCY=4
